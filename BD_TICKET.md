# BD Ticket - Manual Creation (bd CLI issue)

## Title
Test live Route.dog app image upload workflow after API key fix

## Priority
HIGH

## Description
The OpenAI API key was missing from the production Cloudflare Workers environment, causing 401 errors when users tried to upload images. This has been fixed by setting the secret:

```bash
npx wrangler secret put OPENAI_API_KEY --env production
```

**Status**: Secret configured ✅
**Needs verification**: Live testing required ⚠️

## Acceptance Criteria

### 1. Verify API Key Fix
- [ ] Visit https://11e4812e.route-dog.pages.dev
- [ ] Upload test image with addresses (`test-addresses-image.png`)
- [ ] Confirm no 401/500 errors
- [ ] Verify addresses are extracted correctly

### 2. Test Full Workflow
- [ ] Addresses appear in the UI
- [ ] Geocoding works (addresses have coordinates)
- [ ] Map markers display correctly
- [ ] Route optimization functions

### 3. Error Handling
- [ ] Test with invalid image (non-image file)
- [ ] Test with image containing no addresses
- [ ] Test with image containing invalid addresses
- [ ] Verify error messages are user-friendly

## Test Resources
- Test image: `crew/David/test-addresses-image.png` (gitignored, generated by tests)
- Sample addresses: `crew/David/ui/test-data/sample-addresses.txt`
- Test scripts: `test-browser.mjs`, `test-e2e-full.mjs`

## Related Files
- API: `crew/David/api/src/index.ts`
- UI: `crew/David/ui/src/components/ImageUpload.tsx`
- Handoff: `crew/David/HANDOFF.md`

## Notes
- bd CLI has configuration issue preventing ticket creation
- This ticket created manually as markdown
- Convert to proper bd issue when CLI is working

## Next Steps After Completion
1. Add automated image upload test to E2E suite
2. Create diverse test image collection
3. Set up production error monitoring
4. Document image requirements for users

---

**Created**: 2026-01-18
**Assignee**: Next agent session
**Labels**: testing, production, critical-fix, verification-needed
